    <nav id="nav-menu" class="text-slate-600 font-semibold">
        <a href="#intro" class="nav-link block py-2.5 px-4 rounded">Introdu√ß√£o</a>
        <a href="#why" class="nav-link block py-2.5 px-4 rounded">Por que Gerenciar?</a>
        <a href="#how" class="nav-link block py-2.5 px-4 rounded">Como Funciona</a>
        <a href="#identify" class="nav-link block py-2.5 px-4 rounded">Identificar Permiss√µes</a>
        <a href="#remove" class="nav-link block py-2.5 px-4 rounded">Remover Permiss√µes</a>
        <a href="#policies" class="nav-link block py-2.5 px-4 rounded">Pol√≠ticas da Meta</a>
        <a href="#troubleshooting" class="nav-link block py-2.5 px-4 rounded">Solu√ß√£o de Problemas</a>
    </nav>
</aside>

<!-- Mobile menu button -->
<button id="mobile-menu-button" class="md:hidden fixed top-4 left-4 z-40 bg-white p-2 rounded-md shadow-lg">
    <svg class="h-6 w-6 text-slate-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
    </svg>
</button>

<!-- Content -->
<main class="flex-1 p-4 sm:p-6 lg:p-10 prose-custom max-w-full">

    <section id="intro">
        <h1 class="text-4xl font-bold text-slate-900">Gerenciando Permiss√µes do Android em Apps Unreal para Meta Quest 3</h1>
        <p class="text-xl text-slate-600">Este guia interativo ajuda desenvolvedores Unreal Engine a navegar pelo complexo processo de gerenciamento de permiss√µes do Android para aplicativos do Meta Quest, garantindo conformidade com as pol√≠ticas da Meta e melhorando a seguran√ßa e a confian√ßa do usu√°rio.</p>
    </section>

    <section id="why">
        <h2><span class="text-teal-700">#</span> Por que Gerenciar Permiss√µes?</h2>
        <p>Gerenciar permiss√µes n√£o √© apenas uma tarefa t√©cnica; √© um pilar fundamental para o sucesso do seu aplicativo na loja Meta Quest. Um conjunto excessivo de permiss√µes pode levar a problemas significativos. Esta se√ß√£o explica por que voc√™ deve dedicar aten√ß√£o especial a este aspecto do desenvolvimento.</p>
        <div class="grid md:grid-cols-3 gap-6 mt-8 not-prose">
            <div class="custom-card text-center">
                <div class="text-4xl mb-4">üõ°Ô∏è</div>
                <h3 class="font-bold text-lg mb-2 text-slate-800">Conformidade e Submiss√£o</h3>
                <p class="text-sm text-slate-500">A Meta possui diretrizes rigorosas. Permiss√µes desnecess√°rias, especialmente as que exigem revis√£o ou s√£o proibidas, podem levar √† rejei√ß√£o imediata do seu aplicativo, causando atrasos no lan√ßamento.</p>
            </div>
            <div class="custom-card text-center">
                <div class="text-4xl mb-4">üë§</div>
                <h3 class="font-bold text-lg mb-2 text-slate-800">Confian√ßa do Usu√°rio</h3>
                <p class="text-sm text-slate-500">Solicitar permiss√µes irrelevantes (como acesso a chamadas telef√¥nicas) pode gerar desconfian√ßa e preocupa√ß√µes com a privacidade, levando a avalia√ß√µes negativas e menor n√∫mero de instala√ß√µes.</p>
            </div>
            <div class="custom-card text-center">
                <div class="text-4xl mb-4">‚öôÔ∏è</div>
                <h3 class="font-bold text-lg mb-2 text-slate-800">Desempenho e Estabilidade</h3>
                <p class="text-sm text-slate-500">Embora sutil, um manifesto limpo com apenas as permiss√µes essenciais pode contribuir para um aplicativo mais est√°vel, com menor tamanho de APK e comportamento mais previs√≠vel.</p>
            </div>
        </div>
    </section>

    <section id="how">
        <h2><span class="text-teal-700">#</span> Como o Manifesto Funciona</h2>
         <p>A Unreal Engine gera o arquivo `AndroidManifest.xml` dinamicamente durante o empacotamento. Ele combina m√∫ltiplas fontes, resultando em um arquivo final que muitas vezes cont√©m mais permiss√µes do que o esperado. Entender esse processo de mesclagem √© crucial para saber como remov√™-las efetivamente.</p>
        <div class="mt-8 custom-card not-prose">
            <h3 class="text-center font-bold text-lg mb-6 text-slate-800">O Processo de Mesclagem do Manifesto</h3>
            <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                <div class="flex flex-col space-y-2 items-center text-center">
                    <div class="p-4 bg-slate-100 rounded-lg shadow w-40">Padr√µes da Engine</div>
                    <div class="p-4 bg-slate-100 rounded-lg shadow w-40">Plugins Meta XR</div>
                    <div class="p-4 bg-slate-100 rounded-lg shadow w-40">Plugins de Terceiros</div>
                </div>
                <div class="flow-arrow hidden md:flex"></div>
                <div class="md:hidden text-2xl">‚Üì</div>
                <div class="p-6 bg-blue-100 rounded-lg shadow text-center">
                    <h4 class="font-bold text-blue-800">Mesclagem do Gradle</h4>
                    <p class="text-sm text-blue-600">Combina todas as fontes</p>
                </div>
                <div class="flow-arrow hidden md:flex"></div>
                <div class="md:hidden text-2xl">‚Üì</div>
                 <div class="p-6 bg-teal-100 rounded-lg shadow text-center">
                    <h4 class="font-bold text-teal-800">Nosso Arquivo de Remo√ß√£o</h4>
                    <p class="text-sm text-teal-600">Aplica regras `tools:node="remove"`</p>
                </div>
                 <div class="flow-arrow hidden md:flex"></div>
                 <div class="md:hidden text-2xl">‚Üì</div>
                <div class="p-6 bg-green-100 rounded-lg shadow text-center">
                    <h4 class="font-bold text-green-800">APK Final</h4>
                    <p class="text-sm text-green-600">Manifesto limpo</p>
                </div>
            </div>
             <div class="mt-6 p-4 bg-amber-50 border-l-4 border-amber-400">
                 <p class="font-bold text-amber-800">O Segredo: `tools:node="remove"`</p>
                 <p class="text-sm text-amber-700">Este √© o atributo m√°gico. Quando voc√™ o adiciona a uma declara√ß√£o de permiss√£o em um arquivo de manifesto com alta prioridade (como o que vamos criar), ele instrui o processo de mesclagem a remover essa permiss√£o do APK final, mesmo que ela tenha sido adicionada por outra fonte.</p>
             </div>
        </div>
    </section>

    <section id="identify">
        <h2><span class="text-teal-700">#</span> Identificar Permiss√µes</h2>
        <p>Antes de remover, voc√™ precisa saber quais permiss√µes seu aplicativo est√° solicitando. Existem v√°rias ferramentas para inspecionar o `AndroidManifest.xml` final do seu APK. A "fonte da verdade" √© sempre o Meta Horizon Developer Dashboard, pois √© o que a equipe de revis√£o da Meta utilizar√°.</p>
        <div class="mt-6 not-prose">
            <div class="custom-card">
                <div class="border-b border-slate-200">
                    <nav class="-mb-px flex space-x-6" id="identify-tabs">
                        <button data-tab="tab-meta" class="tab-button-identify shrink-0 border-b-2 border-teal-500 px-1 py-4 text-sm font-medium text-teal-600">Meta Horizon Dashboard</button>
                        <button data-tab="tab-studio" class="tab-button-identify shrink-0 border-b-2 border-transparent px-1 py-4 text-sm font-medium text-slate-500 hover:border-slate-300 hover:text-slate-700">Android Studio</button>
                        <button data-tab="tab-aapt" class="tab-button-identify shrink-0 border-b-2 border-transparent px-1 py-4 text-sm font-medium text-slate-500 hover:border-slate-300 hover:text-slate-700">aapt.exe</button>
                    </nav>
                </div>
                <div class="py-6">
                    <div id="tab-meta" class="tab-content-identify">
                         <h3 class="font-semibold text-lg text-slate-800">Verifica√ß√£o Final (Recomendado)</h3>
                         <ol class="list-decimal list-inside mt-4 space-y-2 text-slate-600">
                             <li>Fa√ßa o upload do seu APK para o <a href="<https://developer.oculus.com/manage/>" target="_blank" class="text-teal-600 hover:underline">Meta Horizon Developer Dashboard</a>.</li>
                             <li>Navegue at√© "Distribution > Builds".</li>
                             <li>Selecione a aba "Details" para a sua build.</li>
                             <li>O painel exibir√° uma lista completa de todas as permiss√µes detectadas.</li>
                         </ol>
                    </div>
                    <div id="tab-studio" class="tab-content-identify hidden">
                         <h3 class="font-semibold text-lg text-slate-800">Inspe√ß√£o Local</h3>
                        <ol class="list-decimal list-inside mt-4 space-y-2 text-slate-600">
                            <li>No Android Studio, selecione `File > Profile or Debug APK`.</li>
                            <li>Escolha o seu arquivo APK empacotado.</li>
                            <li>Navegue pela √°rvore de diret√≥rios do APK e abra o `AndroidManifest.xml`.</li>
                            <li>Procure por todas as tags `<uses-permission>`.</li>
                        </ol>
                    </div>
                    <div id="tab-aapt" class="tab-content-identify hidden">
                         <h3 class="font-semibold text-lg text-slate-800">Linha de Comando R√°pida</h3>
                         <p class="text-slate-600">Use a ferramenta `aapt.exe` do Android SDK Build Tools com o seguinte comando:</p>
                         <pre class="mt-4"><code>aapt.exe dump permissions C:\\caminho\\para\\SeuAPK.apk</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="remove">
        <h2><span class="text-teal-700">#</span> Remover Permiss√µes</h2>
         <p>Esta se√ß√£o fornece as ferramentas interativas para gerar o c√≥digo necess√°rio para remover permiss√µes indesejadas do seu manifesto. Escolha o m√©todo que melhor se adapta ao seu projeto. Para a maioria dos casos (projetos Blueprint ou C++), o "M√©todo 1" √© o mais simples e recomendado.</p>
        <div class="mt-6 not-prose">
             <div class="custom-card">
                 <div class="border-b border-slate-200">
                     <nav class="-mb-px flex space-x-6" id="remove-tabs">
                         <button data-tab="tab-method1" class="tab-button-remove shrink-0 border-b-2 border-teal-500 px-1 py-4 text-sm font-medium text-teal-600">M√©todo 1: Abordagem Simples (.txt)</button>
                         <button data-tab="tab-method2" class="tab-button-remove shrink-0 border-b-2 border-transparent px-1 py-4 text-sm font-medium text-slate-500 hover:border-slate-300 hover:text-slate-700">M√©todo 2: Abordagem C++</button>
                     </nav>
                 </div>
                 <div class="py-6">
                     <div id="tab-method1" class="tab-content-remove">
                         <h3 class="font-semibold text-lg text-slate-800">Usando `ManifestRequirementsAdditions.txt`</h3>
                         <ol class="list-decimal list-inside mt-4 space-y-2 text-slate-600">
                            <li>No diret√≥rio raiz do seu projeto, crie a estrutura de pastas: `Build\\Android`.</li>
                             <li>Dentro de `Build\\Android`, crie um novo arquivo de texto chamado <strong>`ManifestRequirementsAdditions.txt`</strong>.</li>
                             <li>Cole o c√≥digo gerado abaixo neste arquivo.</li>
                         </ol>
                         <div class="mt-6">
                             <label for="permissions-input-1" class="block text-sm font-medium text-slate-700">Cole aqui as permiss√µes a remover (uma por linha):</label>
                             <textarea id="permissions-input-1" rows="4" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm p-2" placeholder="android.permission.CALL_PHONE&#10;android.permission.READ_EXTERNAL_STORAGE"></textarea>
                              <button id="generate-btn-1" class="mt-3 inline-flex items-center rounded-md border border-transparent bg-teal-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2">Gerar C√≥digo</button>
                         </div>
                         <div class="mt-4">
                             <label class="block text-sm font-medium text-slate-700">C√≥digo gerado para `ManifestRequirementsAdditions.txt`:</label>
                             <pre id="output-1" class="mt-1"><code class="language-xml">&lt;!-- Clique em 'Gerar C√≥digo' para ver o resultado --&gt;</code></pre>
                         </div>
                     </div>
                     <div id="tab-method2" class="tab-content-remove hidden">
                         <h3 class="font-semibold text-lg text-slate-800">Usando a Linguagem de Plugin da Unreal (C++)</h3>
                         <p class="text-slate-600">Este m√©todo oferece mais controle e √© ideal para projetos C++ que precisam aplicar regras condicionalmente.</p>
                         <h4 class="font-semibold mt-4 text-slate-700">Passo 1: Modifique `PROJECT_NAME.Build.cs`</h4>
                         <p class="text-slate-600">No arquivo `SeuProjeto\\Source\\SeuProjeto\\PROJECT_NAME.Build.cs`, adicione o seguinte c√≥digo C#:</p>
                         <pre><code class="language-csharp">if (Target.Platform == UnrealTargetPlatform.Android && Target.Configuration == UnrealTargetConfiguration.Shipping) {
var manifest_file = System.IO.Path.Combine(ModuleDirectory, "RemovePermissions.xml");
AdditionalPropertiesForReceipt.Add("AndroidPlugin", manifest_file);
